<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8">
    <title>配列2</title>
    <link rel="stylesheet" href="css/styles.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script>
      $(function() {
      var 
        data1 = [63, 18, 64, 97, 50, 98],
        data2 = [59, 39, 100, 2, 15, 40, 84, 97],
        data3 = [79, 45, 18, 86, 57, 51, 100, 26, 37, 91],
        i,
        data1_length = data1.length,
        data1_sum = 0,
        data2_length = data2.length,
        data2_sum = 0,
        data3_length = data3.length,
        data3_sum = 0,
        data_sum = 0,
        data_length,
        data_average;
      // 1.全体の平均値
      for(i = 0; i < data1_length; i++) {
        data1_sum += data1[i];
      };
      for(i = 0; i < data2_length; i++) {
        data2_sum += data2[i];
      };
      for(i = 0; i < data3_length; i++) {
        data3_sum += data3[i];
      };
      data_sum = data1_sum + data2_sum + data3_sum;
      data_length = data1_length + data2_length + data3_length;
      data_average = data_sum / data_length;
      $('#average').append($('<p>').attr('class', 'data-average').text('全体の平均値:' + data_average));
      // 2.平均値以上の値を表示
      // 3.平均値以下の値を表示
      averageAbove(data1, data1_length);
      averageAbove(data2, data2_length);
      averageAbove(data3, data3_length);
      function averageAbove(list, length) {
        var
          i,
          list_average = data_average;
      for(i = 0; i < length; i++) {
        if(list[i] >= list_average) {
          $('.average-above').append($('<p>').text('平均値以上の値 :' + list[i]));
        }else {
          $('.average-below').append($('<p>').text('平均値以下の値 :' + list[i]));
        }
      };
      };
      });
    </script>
  </head>
  <body>
    <h1 class="title">配列</h1>
    <section id="average">
      <div class="average-above"></div>
      <div class="average-below"></div>
    </section>
  </body>
</html>